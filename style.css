/* 全局样式 */
:root {
    --glass-bg: rgba(30, 30, 40, 0.9);
    --glass-border: rgba(255, 255, 255, 0.15);
    --prize-color: #b19cd9;
    --danger-red: #ff4757;
    --blur-intensity: 20px;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    min-height: 100vh;
    background: 
        radial-gradient(circle at 20% 30%, rgba(26, 42, 108, 0.8), transparent 40%),
        radial-gradient(circle at 80% 70%, rgba(178, 31, 31, 0.7), transparent 40%),
        linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
    background-attachment: fixed;
    font-family: 'Microsoft Yahei', 'Segoe UI', sans-serif;
    padding: 20px;
    overflow-x: hidden;
    color: #fff;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
}

/* 粒子背景 */
#particles-js {
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    z-index: -1;
}

/* 闪光效果 */
.glitter {
    position: absolute;
    width: 15px;
    height: 15px;
    background: #fff;
    border-radius: 50%;
    box-shadow: 0 0 15px 3px #fff;
    animation: glitter 4s infinite;
    opacity: 0;
    z-index: 5;
    pointer-events: none;
}

@keyframes glitter {
    0% { opacity: 0; transform: scale(0); }
    50% { opacity: 1; transform: scale(1); }
    100% { opacity: 0; transform: scale(0); }
}

/* 页面标题 */
.page-header {
    text-align: center;
    margin: 0 auto 20px;
    max-width: 600px;
    position: relative;
    padding: 20px 0;
    z-index: 10;
}

.page-title {
    font-size: 2.5rem;
    margin: 0;
    background: linear-gradient(45deg, #b19cd9, #ffcc00, #3498db);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    text-shadow: 0 0 15px rgba(177, 156, 217, 0.3);
    position: relative;
    letter-spacing: 1px;
}

.page-title::after {
    content: '';
    position: absolute;
    bottom: -15px;
    left: 50%;
    transform: translateX(-50%);
    width: 200px;
    height: 4px;
    background: linear-gradient(90deg, transparent, #8a6dbe, transparent);
    border-radius: 2px;
}

.page-subtitle {
    font-size: 1.1rem;
    color: rgba(255, 255, 255, 0.85);
    margin-top: 15px;
    letter-spacing: 1px;
    text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
}

/* 主容器 */
.main-container {
    max-width: 650px;
    margin: 0 auto;
    position: relative;
    width: 100%;
    z-index: 10;
}

/* 功能按钮容器 */
.action-buttons-container {
    display: flex;
    justify-content: space-between;
    width: 100%;
    margin-bottom: 20px;
    gap: 20px;
}

/* 功能按钮样式 */
.action-btn {
    flex: 1;
    min-width: 160px;
    padding: 15px;
    border-radius: 20px;
    text-align: center;
    text-decoration: none;
    font-size: 18px;
    color: #fff;
    border: 2px solid rgba(255, 255, 255, 0.25);
    background: rgba(30, 25, 45, 0.7);
    transition: all 0.3s;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    z-index: 2;
    font-weight: bold;
    letter-spacing: 1px;
    cursor: pointer;
    box-shadow: 
        0 8px 25px rgba(0, 0, 0, 0.3),
        inset 0 0 15px rgba(255, 255, 255, 0.1);
}

.action-btn.left {
    background: linear-gradient(135deg, rgba(106, 17, 203, 0.6), rgba(37, 117, 252, 0.6));
}

.action-btn.right {
    background: linear-gradient(135deg, rgba(255, 154, 158, 0.6), rgba(250, 208, 196, 0.6));
}

.action-btn:hover {
    transform: translateY(-5px);
    box-shadow: 
        0 12px 30px rgba(0, 0, 0, 0.4),
        inset 0 0 20px rgba(255, 255, 255, 0.15);
}

.action-btn:active {
    transform: scale(0.97);
}

/* 扫光效果 */
.action-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.3),
        transparent
    );
    transition: 0.6s;
}

.action-btn:hover::before {
    left: 100%;
}

/* 抽奖盘容器 */
.lottery-container {
    background: rgba(20, 15, 30, 0.7);
    border: 2px solid rgba(255, 255, 255, 0.2);
    border-radius: 25px;
    padding: 30px;
    margin: 20px auto;
    box-shadow: 
        0 15px 50px rgba(0, 0, 0, 0.5),
        inset 0 0 30px rgba(255, 255, 255, 0.1);
    position: relative;
    overflow: hidden;
    transition: transform 0.4s ease;
    backdrop-filter: blur(15px);
}

/* 扇形背景动画 */
.fan-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    z-index: -1;
}

.fan-layer {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 200%;
    height: 200%;
    background: 
        conic-gradient(
            from 0deg,
            transparent 0deg 30deg,
            rgba(138, 109, 190, 0.1) 30deg 60deg,
            transparent 60deg 90deg,
            rgba(52, 152, 219, 0.1) 90deg 120deg,
            transparent 120deg 150deg,
            rgba(46, 204, 113, 0.1) 150deg 180deg,
            transparent 180deg 210deg,
            rgba(231, 76, 60, 0.1) 210deg 240deg,
            transparent 240deg 270deg,
            rgba(155, 89, 182, 0.1) 270deg 300deg,
            transparent 300deg 330deg,
            rgba(241, 196, 15, 0.1) 330deg 360deg
        );
    transform: translate(-50%, -50%);
    animation: rotate 60s linear infinite;
}

.fan-layer:nth-child(2) {
    background: 
        conic-gradient(
            from 15deg,
            transparent 0deg 30deg,
            rgba(255, 204, 0, 0.08) 30deg 60deg,
            transparent 60deg 90deg,
            rgba(230, 126, 34, 0.08) 90deg 120deg,
            transparent 120deg 150deg,
            rgba(26, 188, 156, 0.08) 150deg 180deg,
            transparent 180deg 210deg,
            rgba(177, 156, 217, 0.08) 210deg 240deg,
            transparent 240deg 270deg,
            rgba(106, 90, 205, 0.08) 270deg 300deg,
            transparent 300deg 330deg,
            rgba(255, 107, 139, 0.08) 330deg 360deg
        );
    animation-duration: 45s;
    animation-direction: reverse;
}

@keyframes rotate {
    0% { transform: translate(-50%, -50%) rotate(0deg); }
    100% { transform: translate(-50%, -50%) rotate(360deg); }
}

/* 九宫格布局 */
.lot-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
    padding: 15px;
    position: relative;
    z-index: 2;
}

/* 九宫格项目设计 */
.lot-item {
    aspect-ratio: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(30, 25, 45, 0.8);
    border: 2px solid rgba(255, 255, 255, 0.15);
    border-radius: 16px;
    font-weight: bold;
    color: #fff;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    font-size: 18px;
    backdrop-filter: blur(5px);
    text-shadow: 0 0 5px rgba(0, 0, 0, 0.7);
    box-shadow: 
        inset 0 0 15px rgba(0, 0, 0, 0.3),
        0 5px 20px rgba(0, 0, 0, 0.25);
}

/* 奖项格子颜色 */
.lot-item:nth-child(1) { background: rgba(138, 109, 190, 0.35); }
.lot-item:nth-child(2) { background: rgba(52, 152, 219, 0.35); }
.lot-item:nth-child(3) { background: rgba(46, 204, 113, 0.35); }
.lot-item:nth-child(4) { background: rgba(231, 76, 60, 0.35); }
.lot-item:nth-child(6) { background: rgba(155, 89, 182, 0.35); }
.lot-item:nth-child(7) { background: rgba(241, 196, 15, 0.35); }
.lot-item:nth-child(8) { background: rgba(230, 126, 34, 0.35); }
.lot-item:nth-child(9) { background: rgba(26, 188, 156, 0.35); }

.lot-item:hover {
    transform: scale(1.05);
    border-color: rgba(177, 156, 217, 0.6);
    box-shadow: 
        inset 0 0 20px rgba(0, 0, 0, 0.4),
        0 8px 30px rgba(177, 156, 217, 0.4);
}

/* 中心按钮设计 */
.lot-item.center {
    background: linear-gradient(135deg, rgba(138, 109, 190, 0.9), rgba(106, 90, 205, 0.9));
    cursor: pointer;
    z-index: 3;
    font-size: 20px;
    box-shadow: 
        0 0 25px rgba(138, 109, 190, 0.6),
        inset 0 0 20px rgba(255, 255, 255, 0.2);
    position: relative;
}

/* 多层次呼吸灯效果 */
.lot-item.center::before {
    content: '';
    position: absolute;
    top: -5px;
    left: -5px;
    right: -5px;
    bottom: -5px;
    border-radius: 18px;
    border: 2px solid rgba(138, 109, 190, 0.5);
    animation: pulseBorder1 3s infinite;
    z-index: -1;
}

.lot-item.center::after {
    content: '';
    position: absolute;
    top: -10px;
    left: -10px;
    right: -10px;
    bottom: -10px;
    border-radius: 23px;
    border: 2px solid rgba(138, 109, 190, 0.3);
    animation: pulseBorder2 3s infinite;
    z-index: -2;
}

@keyframes pulseBorder1 {
    0%, 100% { 
        opacity: 0.8;
        box-shadow: 0 0 10px rgba(138, 109, 190, 0.5);
    }
    50% { 
        opacity: 1;
        box-shadow: 0 0 20px rgba(138, 109, 190, 0.8);
    }
}

@keyframes pulseBorder2 {
    0%, 100% { 
        opacity: 0.5;
        box-shadow: 0 0 5px rgba(138, 109, 190, 0.3);
    }
    50% { 
        opacity: 0.8;
        box-shadow: 0 0 15px rgba(138, 109, 190, 0.6);
    }
}

/* 激活状态 */
.lot-item.active {
    background: linear-gradient(135deg, #2ecc71, #27ae60) !important;
    border-color: #27ae60 !important;
    transform: scale(0.95);
    box-shadow: 0 0 25px #2ecc71 !important;
    animation: glow 1s infinite alternate;
}

@keyframes glow {
    from { box-shadow: 0 0 15px #2ecc71; }
    to { box-shadow: 0 0 35px #2ecc71; }
}

/* 奖项说明面板 */
.combined-panel {
    background: rgba(0,0,0,0.6);
    border: 1px solid rgba(255,255,255,0.15);
    border-radius: 15px;
    padding: 15px;
    margin-top: 20px;
    backdrop-filter: blur(var(--blur-intensity));
    display: flex;
    flex-direction: column;
    gap: 20px;
    box-shadow: 0 0 30px rgba(0,0,0,0.3);
}

.combined-panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.history-section, .prize-section {
    overflow-y: auto;
    padding-right: 10px;
    background: transparent;
    border-radius: 8px;
    padding: 12px;
}

.history-section {
    height: 120px;
}

.prize-section {
    height: 190px;
}

.history-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 5px;
}

.clear-history {
    padding: 6px 12px;
    font-size: 12px;
    background: rgba(255,71,87,0.1) !important;
    border: 1px solid var(--danger-red) !important;
    color: var(--danger-red) !important;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 5px;
}

.clear-history:hover {
    background: rgba(255,71,87,0.2) !important;
    transform: translateY(-1px);
}

.prize-item {
    padding: 8px 10px;
    margin: 5px 0;
    border-left: 3px solid var(--prize-color);
    background: rgba(255,255,255,0.05);
    border-radius: 5px;
    transition: 0.2s;
    cursor: pointer;
    transform: translateX(0);
    font-size: 13px;
    line-height: 1.4;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    border: 1px solid rgba(255,255,255,0.15);
}

.prize-item:hover {
    transform: translateX(8px);
    background: rgba(255,255,255,0.1) !important;
}

.prize-item-1 { border-left-color: #b19cd9; }
.prize-item-2 { border-left-color: #2ecc71; }
.prize-item-3 { border-left-color: #3498db; }
.prize-item-4 { border-left-color: #e74c3c; }

.history-item {
    padding: 8px;
    margin: 5px 0;
    background: rgba(255,255,255,0.05);
    border-radius: 5px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 12px;
    border: 1px solid rgba(255,255,255,0.15);
}

.history-placeholder {
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: rgba(255, 255, 255, 0.4);
    font-size: 14px;
    border: 1px dashed rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    padding: 10px;
    text-align: center;
}

/* 底部信息 */
.footer {
    margin-top: 20px;
    text-align: center;
    font-size: 14px;
    color: rgba(255, 255, 255, 0.7);
    padding: 15px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    width: 100%;
    max-width: 650px;
}

/* 响应式设计 */
@media (max-width: 768px) {
    .page-title {
        font-size: 2.2rem;
    }
    
    .action-btn {
        padding: 16px 12px;
        font-size: 16px;
        min-width: 140px;
    }
    
    .lot-item {
        font-size: 16px;
    }
}

@media (max-width: 480px) {
    .page-title {
        font-size: 1.8rem;
    }
    
    .lottery-container {
        padding: 20px;
        margin-top: 10px;
    }
    
    .lot-grid {
        gap: 12px;
        padding: 10px;
    }
    
    .action-buttons-container {
        flex-direction: column;
        gap: 15px;
    }
    
    .action-btn {
        padding: 14px;
        font-size: 16px;
        min-width: 100%;
    }
}
